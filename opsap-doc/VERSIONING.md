# 版本管理 #

----------

## 项目名命名规范  ##
- 全部用小写字母
- 横杠[-]作为连接字符
- 命名规则：[产品名称]-[项目类型]-[自定义名称]，自定义名称可选

举例：
opsap-doc
opsap-ui
opsap-server

实践建议：
在创建项目仓库时就要权衡前后端或者大的功能模块的拆分，保持低耦合度。
## 目录结构 ##
规范的目录结构不仅有利于开发者理解代码结构，更有利于代码的快速部署，目录结构建议将环境配置文件、日志文件，其他文件缓存等独立于代码库之外存放。开发目录应该包含但不限于以下目录：

    [root@localhost ~]# tree opsap/
    opsap/                产品名
    ├── ChangeLog.md      change log
    ├── LICENSE           add license
    ├── opsap-server      项目名
    │   ├── dist          经过压缩合并等最终生成的代码目录
    │   ├── README.md     说明文档
    │   ├── src           源码目录
    │   └── tests         测试用例目录
    ├── opsap-doc         项目名
    │   ├── api           子目录
    │   ├── environment   子目录
    │   ├── logo.png      子目录
    │   ├── preface       子目录
    │   ├── README.md     说明文档
    │   └── SUMMARY.md    目录入口
    ├── opsap-ui          项目名
    │   ├── README.md     说明文档
    │   └── tests         测试用例目录
    └── README.md         依赖、安装、部署、文档等说明


## 分支管理策略 ##

![](http://i.imgur.com/VTNkq81.png)
如上图所示：
- 最稳定的代码放在master分支上，不直接在 master 分支上提交代码，只能把develop分支上测试稳定并投产的代码合并到该分支上，合并后要在master分支上打一个tag，例如v1.0.0，由版本管理员管理，普通用户不可以修改。
- 日常开发中的使用另一条主分支develop分支，该分支所有人都能访问，但不直接在该分支上提交代码，代码同样是从其它分支合并到develop分支上去。
- 当我们需要开发某个特性时，需要从develop分支拉出一条feature分支，例如feature-1与feature-2，在这些分支上并行地开发具体特性。当特性开发完毕后，自测没有问题后，合并到develop分支。合并代码的频率应该是越频繁越好，但要保证每次提交的代码应该是功能完整的代码。
- 当一个阶段的特性开发完成后，为封版时期，集成测试没有问题后在develop上打一个tag,如relase-v1.0.0。
- 对于版本号要求格式为：x.y.z，其中，x用于有重大重构时才会升级，y用于有新的特性发布时才会升级，z用于修改了某个bug后才会升级。