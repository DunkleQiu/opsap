webpackJsonp([1,0],[function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.router=void 0;var r=o(17),n=s(r),a=o(12),i=s(a),u=o(14),l=s(u),c=o(13),d=s(c);o(4);var f=o(16),p=s(f),v=o(15),h=s(v);n["default"].use(h["default"]),n["default"].use(p["default"]),n["default"].http.options.emulateJSON=!0;var m=t.router=new p["default"];m.map({login:{component:l["default"]},index:{component:d["default"]}}),m.redirect({"*":"/login"}),m.start(i["default"],"#app")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(!function(){var e=new Error('Cannot find module "../main"');throw e.code="MODULE_NOT_FOUND",e}()),r=o(7),n="http://localhost:3001";t["default"]={user:{authoenticated:!1},login:function(e,t,o){var a=this,i=n+"/sessions/create";e.$http.post(i,t).then(function(e){r.set("id_token",e.data.id_token),a.user.authoenticated=!0,console.log(e.data.id_token),o&&s.router.go(o)})["catch"](function(t){console.log(t),e.error=t.data})},logout:function(){r.remove("id_token"),this.user.authoenticated=!1},check:function(){var e=r.get("id_token");e?this.user.authoenticated=!0:this.user.authoenticated=!1},getAuthHeader:function(){return{Authorization:"Bearer "+r.get("id_token")}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),n=s(r);t["default"]={data:function(){return{title:""}},methods:{getQuote:function(){var e=this;this.$http.get("http://localhost:3001/api/protected/random-quote",null,{headers:n["default"].getAuthHeader}).then(function(t){e.title=t.data})["catch"](function(e){console.log(e)})}},route:{canActivate:function(){return n["default"].user.authenticated}}}},function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(1),n=s(r);t["default"]={data:function(){return console.log(n["default"].user.authoenticated),{credentials:{username:"",password:""},error:""}},methods:{submit:function(){var e={username:this.credentials.username,password:this.credentials.password};n["default"].login(this,e,"index")}}}},function(e,t){},function(e,t){},function(e,t){},,function(e,t,o){e.exports=o.p+"static/img/logo.515b509.png"},function(e,t){e.exports="<div id=app> <router-view></router-view> </div>"},function(e,t){e.exports='<div class=col-sm-3> <div class="ibox float-e-margins"> <div class=ibox-title> <span class="label label-success pull-right">{{title}}</span> <h5>{{title}}</h5> </div> <div class=ibox-content> <h1 class=no-margins> <a @click=getQuote>re</a> </h1> <small>rer</small> </div> </div> </div>'},function(e,t,o){e.exports='<div class=hello _v-2f9ceefd=""> <img class=logo src='+o(8)+' _v-2f9ceefd=""> <h2 v-if=state _v-2f9ceefd="">华商自动化运维平台</h2> <form class=m-t role=form method=post action="" _v-2f9ceefd=""> <div class=form-group _v-2f9ceefd=""> <input type=text v-model=credentials.username class=form-control placeholder=Username required=length[6~50] _v-2f9ceefd=""> </div> <div class=form-group _v-2f9ceefd=""> <input type=password v-model=credentials.password class=form-control placeholder=Password required="" _v-2f9ceefd=""> </div> <button @click=submit class="btn btn-success block full-width m-b" _v-2f9ceefd="">Login</button> </form> <div class="alert alert-danger" v-if=error _v-2f9ceefd="">{{error}}</div> <p class=m-t _v-2f9ceefd=""> <small _v-2f9ceefd=""><b _v-2f9ceefd="">Copyright</b> CMB DevOps team © 2016-2016</small> </p> </div>'},function(e,t,o){var s,r;o(5),r=o(9),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,o){var s,r;s=o(2),r=o(10),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)},function(e,t,o){var s,r;o(6),s=o(3),r=o(11),e.exports=s||{},e.exports.__esModule&&(e.exports=e.exports["default"]),r&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=r)}]);
//# sourceMappingURL=app.36ba4d9cfb552b52461a.js.map